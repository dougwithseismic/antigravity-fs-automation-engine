# A/B Testing

A/B testing (or split testing) is the scientific method of comparing two versions of a webpage or app against each other to determine which one performs better. Antigravity allows you to run these tests entirely on the client-side using visual workflows.

## The Anatomy of a Test

In Antigravity, an A/B test is simply a workflow with a **Split Node**.

### 1. The Trigger
Usually, this is `Page Load`. You want the test to run as soon as the user arrives.
*Tip: Use the "Priority" setting to ensure your A/B test workflow runs before other logic.*

### 2. The Split Node
The **Split Node** is the brain of your experiment.
- **Traffic Allocation**: Decide what % of users go to Variant A vs. Variant B (e.g., 50/50).
- **Stickiness**: Antigravity automatically handles cookies/local storage to ensure a user sees the same variant on return visits.

### 3. The Variants
Connect the outputs of the Split Node to different **DOM Mutation** nodes.

#### Variant A (Control)
Often, this path is left empty (doing nothing), or it might log a "Control Seen" event.

#### Variant B (Challenger)
This path contains the changes you want to test.
- Change the Headline (`<h1>`).
- Swap the Hero Image.
- Change the Color of the CTA button.
- Reorder sections on the page.

## Example Workflow: Hero Headline Test

1.  **Trigger**: Page Load (URL matches `/pricing`)
2.  **Split**: 50/50 Distribution
3.  **Path A**: Log "Viewed Control" -> End
4.  **Path B**:
    - **Action**: Select element `#hero-title`
    - **Operation**: Set Text Content to "Pricing that scales with you"
    - **Action**: Log "Viewed Variant B"

## Analyzing Results

Antigravity integrates with your existing analytics stack.
- **Google Analytics 4**: Send custom events for `experiment_impression`.
- **PostHog / Mixpanel**: Tag user sessions with experiment properties.

## Advanced Testing

- **Multivariate Testing**: Split traffic 33/33/33 to test three different versions.
- **Holdout Groups**: Keep 10% of your traffic completely untouched to measure the aggregate impact of all your experiments.
